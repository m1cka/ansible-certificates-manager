---
- name: Converge
  hosts: all

  vars:
    certificates:
      - name: test.test
        certificate:
          LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUR1ekNDQXFPZ0F3SUJBZ0lKQUtmNEczV21JdmlHTUEwR0NTcUdTSWIzRFFFQkN3VUFNRGt4RWpBUUJnTlYKQkFNTUNYUmxjM1F1ZEdWemRERUxNQWtHQTFVRUJoTUNWVk14RmpBVUJnTlZCQWNNRFZOaGJpQkdjbUZ1YzJsegpZMjh3SGhjTk1qSXhNakUxTVRZME9EQXlXaGNOTWpNeE1qRTFNVFkwT0RBeVdqQjRNUXN3Q1FZRFZRUUdFd0pWClV6RVRNQkVHQTFVRUNBd0tRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCd3dOVTJGdUlFWnlZVzV6YVhOamJ6RVIKTUE4R0ExVUVDZ3dJVFV4dmNITklkV0l4RlRBVEJnTlZCQXNNREUxc2IzQnpTSFZpSUVSbGRqRVNNQkFHQTFVRQpBd3dKZEdWemRDNTBaWE4wTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUEweXMzCjdzVUpUSzRveEp4cWRNL1VyZjFVTTdtUTBGSE10cWpiNkpFOVNQMjYrVnJLNnp2eVdVUlhSNnlxZWM5K2g3dHEKN0RGWVZnamNMVE1TazF2UUYzOEF1WmFOakN6aEhEbjlBS1ZDTjkzUkx4dllqK0JRanJIRnFrQ1hJTDdlK204TQpVUE10TGRFTnNCKzVXQXNEczFWQmZiRHZYZ0dLTHYwN04wNXJDU1lSRDZUVGVKUmlWK3gxOHk0cEJoWVVPOThxCkNEMnd5L3IxTTZDZUNHOTdCc29wQTZHVEkwZGRSa05oZ0FER01lTVVrWEpseUViRlpleHdZb2RLOFFTQ0ZsMkgKVnl5bDJsTTQzbG9sTEJaVm4rVDIvSmhDNVlDRFF1bTZIcVpCdXJTcFc1VDQ2RVljOGFBQXF5TDFmSkhLcE8vcAo5UDBIQ0ZKYU5laFZpa0lhZndJREFRQUJvNEdHTUlHRE1GTUdBMVVkSXdSTU1FcWhQYVE3TURreEVqQVFCZ05WCkJBTU1DWFJsYzNRdWRHVnpkREVMTUFrR0ExVUVCaE1DVlZNeEZqQVVCZ05WQkFjTURWTmhiaUJHY21GdWMybHoKWTIrQ0NRQ254YUhFM1NVWlNqQUpCZ05WSFJNRUFqQUFNQXNHQTFVZER3UUVBd0lFOERBVUJnTlZIUkVFRFRBTApnZ2wwWlhOMExuUmxjM1F3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUEyZ2RrZWZ0aGtHZlZtbmlHVG5wN3RqCmlBTWVwMS8vYWF2cW1WVlBueTFEb1ZrRTlvTDB5LzlKd094ZTl6OUczblRzRVpVYW9VZ1RsN2lROW1qRmc2b2kKajNqZnRYOFIvUzRPWjdlZUNSVys3R3hxcDdld1Z2UWMwVXVla0VJWlNWV25TT08rb0FZMXMzeEEvbTVXYndOWgo2YnpQQnVDWGJ1aEg0WSs0UW5YandhcGNLWFFOZis4NEJMNklBMW05Kyt5bngyRXY5NmxXaTB0V3JPRTcyT2FpCmlRRnFydVdmS2hxTXJGVlRjMUtmRWNwSVMzRkxmclZka2FGb09FKzB3NHdBNzllRGlVYnIrT2pYdzErSDl0czkKdE1PbjQ4cDRyK2VDdGNwZGcvY1AxNXg0UTZRSmR5bjNjaXAxSDBFbEp1OXJsVXQzMEhiSGZkc2d3SEUxa2E0PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0t
        key:
          LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBMHlzMzdzVUpUSzRveEp4cWRNL1VyZjFVTTdtUTBGSE10cWpiNkpFOVNQMjYrVnJLCjZ6dnlXVVJYUjZ5cWVjOStoN3RxN0RGWVZnamNMVE1TazF2UUYzOEF1WmFOakN6aEhEbjlBS1ZDTjkzUkx4dlkKaitCUWpySEZxa0NYSUw3ZSttOE1VUE10TGRFTnNCKzVXQXNEczFWQmZiRHZYZ0dLTHYwN04wNXJDU1lSRDZUVAplSlJpVit4MTh5NHBCaFlVTzk4cUNEMnd5L3IxTTZDZUNHOTdCc29wQTZHVEkwZGRSa05oZ0FER01lTVVrWEpsCnlFYkZaZXh3WW9kSzhRU0NGbDJIVnl5bDJsTTQzbG9sTEJaVm4rVDIvSmhDNVlDRFF1bTZIcVpCdXJTcFc1VDQKNkVZYzhhQUFxeUwxZkpIS3BPL3A5UDBIQ0ZKYU5laFZpa0lhZndJREFRQUJBb0lCQVFDUVhocTJOYVQrOUk1UQpwSE12ZXlyMjdKdVZaVWM0OU1PVkdXcUczRXpleXdENkd2Vmh6ekVIa0c1dlJQK2ptWlR5ck5JVHVrU2ZSUjFxCkZXR2N0d2RVR1BMZzdxbkU3S1hXQzFzS0J2RjNpa0hLQ0NxTmFwa0loVWNTOTJlYTdvTTVDWlNNLzBPaThDcUEKZjUvU0xtMlFQRGd5K3pVYXVzakRDVU5qczB3QUN2VDgwWFgySzJqbzVLaHg0NjhML0gxWDkyWkJDRU42azNheApHMnFSSWRLQUhBNURqU3VueEhOaGhZekFZK2NoT2VPaGJ3S0dPc0pMeUlWTGVReUJtTWYyTWdMK3N1SmNEOGUvCitQdTZNZnR5czluL2pYR1liRmZXU3ZpV2hrNWszY1ZiZ2daZzhtVTM2dWF4eTk5Ri9HY0NhYXlaZGkvR0xBL1IKWHQ0djFsN1JBb0dCQVBWZFhzL1VXUVBnNUY3Nk13OWpmcXNiQjhkS1BhL0xvdnVUcUFlY3JwYTNCTjlWZXY0NgpjbmNyWWhqdWRqMWs4RzRIYW81V20vTjNQYnR2YzhVTzhMRlVkY3Q2eWhhY3NrNks0TjJwTVlNaG1ZdmFrVnU0CnZQODllU3Y2TjBlbFp5SG5Iby82ajF5RWFPYmRFTXBJL1lDNTZlN1VoNUt1OVMvNExPRGt4UFlYQW9HQkFOeFMKWnRGS0RTREVhM0s1bE54SXFyL2RWSklMQXVYVzduUXp4V1VwRVRqYzBJa3RwSDkwZ2NJNnFsblViVldza3YvSwpUTCtZQ0dVcURGMVFTV2lVY0U5OTgvUkk2U1RvK1hBZVJvYlhJYjVCNU5mVHVYL1lJNlYzSHBmNUFUSUFiNGVlCmVRbnZBYWFqbnJKNXNiMDI3ZWJRM2pzbHZzSmQ3S0ovNFlYQ3NDZlpBb0dBVG1tWWN6S1pmL1BQQjh0TnBnMVYKM2JpMXM2cTJMQWdYL2U0aU5NeU52dnllUWdFL1hSK3dsUVQ0Uko5d2lnNUlCK0cyMitZeDBJeTYzYnV3YzdsaQpra2s3bTl1UjJjZ1o4NS9PWFFoRkduTVNidTlhcE1WVklQeTBUS21hSVB0ckNocWlXY0RwTDlmZzdtYVhodzNzCmRjYjBTNjcvNUpDbEtyOVZHRW9ENStFQ2dZRUFqeHlQWU44akMrZktpNmowZ3VwSXozd3JWUG9HRmRtNDVvNUMKYUdWMnBHTDZxa0NWbTV6SU5LdjZ2NEwyeWpIaEFub2J4RkF6RTlOdVdLYXdLRmhUWTY5QzZhajZtRmtrdmFsTQowb1duaTNndDkrdTFrTStLeUE1S054a3RwNWNVMnhrYk1sS24xZUJ1VXl3dFFlVU9QMkhwR0s1NTdMTXA1SndBCmwreFFsSEVDZ1lCR2ZrQzMyQVVZUDNYUk9HVCtodlN0QURmRFM4bTZkYmVWUCt1YjJ0MFo0TTVqYmFlYWRsVEUKNHhGTEdSYlE2ZEVoN3gyd3RKNjZZR2dVUmY3Q1Zwd3o4NHBaaWpkWFVxNGUzaU02RkM0UjNwVmV4UEwxRzA4OApMVFdGU3l6bldYSkRKM1lhakxiUmhqY1NLYWdoNFZadC9EUWJNdGh4YmY0MGowYTZPN3hkc0E9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQ==


  pre_tasks:
    - name: install cryptography
      shell: "pip3 install cryptography"
      no_log: true

  roles:
    - role: m1cka.molecule-tests
